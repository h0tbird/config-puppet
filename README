#------------------------------------------------------------------------------
# Clone the repository:
#------------------------------------------------------------------------------

git clone git@github.com:h0tbird/puppet.git /etc/puppet
cd /etc/puppet
git submodule init
git submodule update

#------------------------------------------------------------------------------
# Run puppet apply:
#------------------------------------------------------------------------------

FACTER_fqdn=puppet01.domain \
FACTER_domain=domain \
puppet apply \
--modulepath=/etc/puppet/modules:/etc/puppet/roles \
/etc/puppet/manifests/site.pp
